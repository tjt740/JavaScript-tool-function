<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Clock</title>
        <link rel="stylesheet" href="./css/style.css" />
    </head>

    <body>
        <div>
            <div id="copy-code">1234543212345432</div>
        </div>
        <button id="copy-btn">复制</button>

        <script>
            document.getElementById('copy-btn').onclick = () => {
                //创建range对象;
                const range = document.createRange();
                //获取复制内容的 id 选择器
                range.selectNode(document.getElementById('copy-code'));
                //创建 selection对象
                const selection = window.getSelection();
                //如果页面已经有选取了的话，会自动删除这个选区，没有选区的话，会把这个选取加入选区
                if (selection.rangeCount > 0) selection.removeAllRanges();
                //将range对象添加到selection选区当中，会高亮文本块
                selection.addRange(range);
                //复制选中的文字到剪贴板
                document.execCommand('copy');
                console.log('复制成功');
                // 移除选中的元素
                selection.removeRange(range);
            };
        </script>
    </body>
</html>
